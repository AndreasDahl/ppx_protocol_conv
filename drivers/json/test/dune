(executable
 (name       unittest)
 (modules    :standard \ test)
 (libraries  test ppx_protocol_conv_json)
 (preprocess (pps ppx_protocol_conv ppx_sexp_conv ppx_expect))
)

(alias
 (name   runtest)
 (package ppx_protocol_conv_json)
 (action (run %{exe:unittest.exe}))
)

(executable
 (name        test)
 (modules     test)
 (libraries   ppx_protocol_conv_json)
 (preprocess (pps ppx_protocol_conv)))
