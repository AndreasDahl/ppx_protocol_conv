(jbuild_version 1)

(executables
 ((names (example variant from_to_protocol driver))
  (modules (:standard util))
  (libraries (deriving_protocol
              deriving_protocol_json
              deriving_protocol_xml
              deriving_protocol_msgpack))
  (preprocess (pps (ppx_deriving_protocol ppx_driver.runner)))
))

(alias
  ((name   runtest)
   (action (run ${exe:example.exe}))
))

(alias
  ((name   runtest)
   (action (run ${exe:variant.exe}))
))

(alias
  ((name   runtest)
   (action (run ${exe:from_to_protocol.exe}))
))

(alias
  ((name   runtest)
   (action (run ${exe:driver.exe}))
))
